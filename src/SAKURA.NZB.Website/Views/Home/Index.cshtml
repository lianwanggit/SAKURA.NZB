@{
    ViewData["Title"] = "Home Page";
}
<div id="Header" class="row container" style="margin-right: auto; margin-left: auto;">
    <div class="col-sm-7" style="padding:0">
        <h1>
            <a class="regenerate">
                SAKURA
            </a>
            <br>
            <small>
                <a class="recolor">NZ BUY</a>
            </small>
        </h1>
        <form class="form-inline">
            <div class="input-group">             
                <input id="nzd" class="form-control" placeholder="NZD" value="1" />
                <div class="input-group-addon">NZD</div>
            </div>
            <i class="fa fa-exchange"></i>
            <div class="input-group">               
                <input id="cny" class="form-control" placeholder="CNY" value="@Html.Raw(ViewBag.LiveRate)" />
                <div class="input-group-addon">CNY</div>
            </div>
        </form>
    </div>
    <div class="col-sm-5" style="padding:0">
        <div class="pull-right">
            <svg preserveAspectRatio="xMaxYMax slice" viewBox="0 0 840 600" width="258" height="150"></svg>
        </div>
    </div>
</div>

<script>
    var rate = @Html.Raw(ViewBag.LiveRate);
    var highRate = @Html.Raw(ViewBag.HighRate);
    var lowRate = @Html.Raw(ViewBag.LowRate);

    window.nzb = {
        rate: {
            live: rate, 
            high: highRate,
            low: lowRate
        }
    };

    $('#nzd').on('input',function(e){
        var source = e.target.value;
        if ($.isNumeric(source)){
            var result = (parseFloat(source) * rate).toFixed(4);
            $('#cny').val(result);
        }else{
            $('#cny').val('');
        }
    });
    $('#cny').on('input',function(e){
        var source = e.target.value;
        if ($.isNumeric(source)){
            var result = (parseFloat(source) / rate).toFixed(4);
            $('#nzd').val(result);
        }
    });
</script>

<app class="container" style="display: block;">Loading...</app>
