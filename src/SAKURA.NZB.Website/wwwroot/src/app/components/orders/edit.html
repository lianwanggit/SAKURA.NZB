<div class="grey-border">
    <h2 class="page-header">{{title}}</h2>

    <div>
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#customer" aria-controls="customer" role="tab" data-toggle="tab"><i class="fa fa-user"></i> 客户 <span class="badge">{{customerCount}}</span></a></li>
            <li role="presentation"><a href="#product" aria-controls="product" role="tab" data-toggle="tab"><i class="fa fa-shopping-bag"></i> 产品 <span class="badge">{{productCount}}</span></a></li>
            <li role="presentation"><a href="#invoice" aria-controls="invoice" role="tab" data-toggle="tab"><i class="fa fa-file-text"></i> 清单</a></li>
            <li role="presentation"><a href="#summary" aria-controls="summary" role="tab" data-toggle="tab"><i class="fa fa-money"></i> 利润</a></li> 
            <li role="presentation" class="right-button" *ngIf="!viewMode">
                <button type="submit" class="btn btn-success left-spacer" [disabled]="!order.isValid" (click)="onSave()">
                    保存 <i class="fa fa-floppy-o fa-lg"></i>
                </button>
            </li> 
            <li role="presentation" class="right-button" *ngIf="editMode && !viewMode">
                <button type="submit" class="btn btn-danger left-spacer"  data-toggle="modal" data-target="#myModal">
                    删除 <i class="fa fa-trash fa-lg"></i>
                </button>
            </li>          
            <li role="presentation" class="right-button"><button type="button" class="btn btn-default" [routerLink]="['订单']">返回列表</button></li>
        </ul>

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active" id="customer">
                <order-customer [(orderModel)]="order" [viewMode]="viewMode"></order-customer>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="product">
                <order-products [(orderModel)]="order" [viewMode]="viewMode" [exchangeRate]="currentRate"></order-products>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="invoice">
                <order-invoice [(orderModel)]="order"></order-invoice>
           </div>
            <div role="tabpanel" class="tab-pane fade" id="summary">
                <order-summary [(orderModel)]="order" [exchangeRate]="currentRate"></order-summary>
            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">删除订单</h4>
            </div>
            <div class="modal-body">
                <p>你是否确认删除这个订单?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="onDelete()">删除</button>
            </div>
        </div>
    </div>
</div>
